{"version":3,"sources":["webpack:///main.js","webpack:///./main.js","webpack:///./source/index.js"],"names":["webpackJsonp","167","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_2__source_index__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","App","_PureComponent","this","_this","getPrototypeOf","state","tags","id","title","x","y","index","maxLength","onReplace","bind","onDelete","element","array","setState","a","createElement","image","width","height","document","getElementById","78","__WEBPACK_IMPORTED_MODULE_1_react_dom___default","__WEBPACK_IMPORTED_MODULE_2__index_scss__","Tagging","chosenIndex","clickedTime","deleteTag","hideAllDeletes","forEach","findDOMNode","refs","querySelectorAll","classList","add","tag","filter","ind","_this2","className","style","backgroundImage","ref","onClick","map","canMove","startMoving","event","stopPropagation","addEventListener","processMoving","preventDefault","wrapper","getBoundingClientRect","boundingClientRect","cursor","changedTouches","clientX","clientY","left","parseFloat","window","scrollX","top","scrollY","deleteElement","querySelector","remove","stopMoving","removeEventListener","zIndex","Date","getTime","onMouseDown","onTouchStart","onMouseUp","onTouchEnd","slice","defaultProps","Function","propTypes","string","arrayOf","shape","number","func","79","exports"],"mappings":"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","file":"main.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 167:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__source_index__ = __webpack_require__(78);\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar App = function (_PureComponent) {\n  _inherits(App, _PureComponent);\n\n  function App(props) {\n    _classCallCheck(this, App);\n\n    var _this = _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this, props));\n\n    _this.state = {\n      tags: [{\n        id: 'id_1',\n        title: 'Lorem Ipsum',\n        x: 200,\n        y: 200,\n        index: 0\n      }, {\n        id: 'id_2',\n        title: 'Lorem',\n        x: 200,\n        y: 300,\n        index: 1\n      }, {\n        id: 'id_3',\n        title: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit',\n        x: 100,\n        y: 100,\n        index: 1\n      }]\n    };\n    _this.maxLength = 20;\n\n    _this.onReplace = _this.onReplace.bind(_this);\n    _this.onDelete = _this.onDelete.bind(_this);\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: 'onReplace',\n    value: function onReplace(element, index, array) {\n      if (array) {\n        this.setState({ tags: array });\n      }\n    }\n  }, {\n    key: 'onDelete',\n    value: function onDelete(element, index, array) {\n      if (array) {\n        this.setState({ tags: array });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__source_index__[\"a\" /* default */], {\n        image: './image.jpg',\n        width: '512px',\n        height: '512px',\n        tags: this.state.tags,\n        onReplace: this.onReplace,\n        onDelete: this.onDelete,\n        maxLength: this.maxLength\n      });\n    }\n  }]);\n\n  return App;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = App;\n\n\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_dom__[\"render\"])(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(App, null), document.getElementById('react-app'));\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index_scss__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__index_scss__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar Tagging = function (_PureComponent) {\n  _inherits(Tagging, _PureComponent);\n\n  function Tagging(props) {\n    _classCallCheck(this, Tagging);\n\n    var _this = _possibleConstructorReturn(this, (Tagging.__proto__ || Object.getPrototypeOf(Tagging)).call(this, props));\n\n    _this.state = {\n      chosenIndex: null\n    };\n    _this.clickedTime = null;\n\n    _this.deleteTag = _this.deleteTag.bind(_this);\n    _this.hideAllDeletes = _this.hideAllDeletes.bind(_this);\n    return _this;\n  }\n\n  _createClass(Tagging, [{\n    key: 'hideAllDeletes',\n    value: function hideAllDeletes() {\n      [].forEach.call(__WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.findDOMNode(this.refs['tagging-wrapper']).querySelectorAll('.delete'), function (element) {\n        element.classList.add('hide');\n      });\n    }\n  }, {\n    key: 'deleteTag',\n    value: function deleteTag(tag, index) {\n      this.hideAllDeletes();\n      this.setState({ chosenIndex: null });\n      this.props.onDelete(tag, index, this.props.tags.filter(function (tag, ind) {\n        return ind !== index;\n      }));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        {\n          className: 'tagging-wrapper',\n          style: {\n            backgroundImage: 'url(' + this.props.image + ')',\n            width: this.props.width,\n            height: this.props.height\n          },\n          ref: 'tagging-wrapper',\n          onClick: function onClick() {\n            _this2.hideAllDeletes();\n            _this2.setState({ chosenIndex: null });\n          }\n        },\n        this.props.tags.map(function (tag, index) {\n          // closure veriables\n          var canMove = false;\n          var startMoving = function startMoving(event) {\n            event.stopPropagation();\n            canMove = true;\n            document.addEventListener('mousemove', processMoving, false);\n            document.addEventListener('touchmove', processMoving, false);\n          };\n          var processMoving = function processMoving(event) {\n            event.preventDefault();\n            event.stopPropagation();\n            if (canMove && _this2.state.chosenIndex === index) {\n              var ref = __WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.findDOMNode(_this2.refs[index]);\n              if (ref) {\n                var wrapper = __WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.findDOMNode(_this2.refs['tagging-wrapper']).getBoundingClientRect(),\n                    boundingClientRect = ref.getBoundingClientRect();\n                ref.style.cursor = '-webkit-grabbing';\n                ref.style.cursor = 'grabbing';\n                // handle device touches\n                if (event.changedTouches) {\n                  event.clientX = event.changedTouches[0].clientX;\n                  event.clientY = event.changedTouches[0].clientY;\n                }\n                // handle borders\n                if (wrapper.left + boundingClientRect.width / 2 > event.clientX) {\n                  tag.x = 0;\n                } else if (wrapper.left + wrapper.width - boundingClientRect.width / 2 < event.clientX) {\n                  tag.x = wrapper.width - boundingClientRect.width;\n                } else {\n                  tag.x = parseFloat(ref.style.left) + event.clientX - (boundingClientRect.left + boundingClientRect.width / 2);\n                  tag.x -= window.scrollX;\n                }\n                if (wrapper.top + boundingClientRect.height / 2 > event.clientY) {\n                  tag.y = 0;\n                } else if (wrapper.top + wrapper.height - boundingClientRect.height / 2 < event.clientY) {\n                  tag.y = wrapper.height - boundingClientRect.height;\n                } else {\n                  tag.y = parseFloat(ref.style.top) + event.clientY - (boundingClientRect.top + boundingClientRect.height / 2);\n                  tag.y -= window.scrollY;\n                }\n\n                // handle .delete position\n                var deleteElement = ref.querySelector('.delete');\n                if (wrapper.left + wrapper.width - boundingClientRect.width / 2 < event.clientX + deleteElement.getBoundingClientRect().width) {\n                  deleteElement.classList.add('pull-left');\n                } else {\n                  deleteElement.classList.remove('pull-left');\n                }\n\n                // set values\n                ref.style.left = tag.x + 'px';\n                ref.style.top = tag.y + 'px';\n              }\n            }\n          };\n          var stopMoving = function stopMoving(event) {\n            event.stopPropagation();\n            var ref = __WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.findDOMNode(_this2.refs[index]);\n            ref.style.cursor = '';\n            _this2.props.onReplace(tag, index, _this2.props.tags.map(function (tag, ind) {\n              if (ind === index) {\n                tag.x = parseFloat(ref.style.left);\n                tag.y = parseFloat(ref.style.top);\n              }\n              return tag;\n            }));\n            canMove = false;\n            document.removeEventListener('mousemove', processMoving, false);\n            document.removeEventListener('touchmove', processMoving, false);\n          };\n          return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            {\n              className: 'tagging-element ' + (_this2.state.chosenIndex === index ? 'grab-mode' : ''),\n              key: tag.id,\n              ref: index,\n              style: {\n                zIndex: tag.index,\n                left: tag.x,\n                top: tag.y\n              },\n              onClick: function onClick(event) {\n                event.stopPropagation();\n                if (_this2.state.chosenIndex !== index) {\n                  _this2.hideAllDeletes();\n                  _this2.setState({ chosenIndex: index });\n                  __WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.findDOMNode(_this2.refs[index]).querySelector('.delete').classList.remove('hide');\n                }\n                if (new Date().getTime() - _this2.clickedTime < 600) {\n                  // double click / tap\n                  _this2.hideAllDeletes();\n                  _this2.setState({ chosenIndex: null });\n                }\n                _this2.clickedTime = new Date().getTime();\n              },\n              onMouseDown: startMoving,\n              onTouchStart: startMoving,\n              onMouseUp: stopMoving,\n              onTouchEnd: stopMoving\n            },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'span',\n              {\n                className: 'tagging-title'\n              },\n              tag.title.length + 3 > _this2.props.maxLength ? tag.title.slice(0, _this2.props.maxLength - 3) + '...' : tag.title\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'span',\n              {\n                className: 'delete hide',\n                onClick: function onClick(event) {\n                  event.stopPropagation();\n                  _this2.deleteTag(tag, index);\n                }\n              },\n              'X'\n            )\n          );\n        })\n      );\n    }\n  }]);\n\n  return Tagging;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n\nTagging.defaultProps = {\n  image: '',\n  width: '400px',\n  height: '400px',\n  tags: [],\n  onReplace: Function.prototype,\n  onDelete: Function.prototype,\n  maxLength: 16\n};\nTagging.propTypes = {\n  image: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].string,\n  width: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].string,\n  height: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].string,\n  tags: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].arrayOf(__WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].shape({\n    id: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].string,\n    title: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].string,\n    x: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].number,\n    y: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].number,\n    index: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].number\n  })),\n  onReplace: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].func,\n  onDelete: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].func,\n  maxLength: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].number\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = Tagging;\n\n/***/ }),\n\n/***/ 79:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[167]);\n\n\n// WEBPACK FOOTER //\n// main.js","'use strict';\n\nimport React, { PureComponent } from 'react';\nimport { render } from 'react-dom';\n\nimport Tagging from './source/index';\n\nexport default class App extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      tags: [\n        {\n          id: 'id_1',\n          title: 'Lorem Ipsum',\n          x: 200,\n          y: 200,\n          index: 0\n        },\n        {\n          id: 'id_2',\n          title: 'Lorem',\n          x: 200,\n          y: 300,\n          index: 1\n        },\n        {\n          id: 'id_3',\n          title: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit',\n          x: 100,\n          y: 100,\n          index: 1\n        }\n      ]\n    };\n    this.maxLength = 20;\n\n    this.onReplace = this.onReplace.bind(this);\n    this.onDelete = this.onDelete.bind(this);\n  }\n\n  onReplace(element, index, array) {\n    if (array) {\n      this.setState({tags: array});\n    }\n  }\n\n  onDelete(element, index, array) {\n    if (array) {\n      this.setState({tags: array});\n    }\n  }\n\n  render() {\n    return (\n      <Tagging\n        image={'./image.jpg'}\n        width={'512px'}\n        height={'512px'}\n        tags={this.state.tags}\n        onReplace={this.onReplace}\n        onDelete={this.onDelete}\n        maxLength={this.maxLength}\n      />\n    );\n  }\n}\n\nrender(\n    <App/>,\n    document.getElementById('react-app')\n);\n\n\n\n// WEBPACK FOOTER //\n// ./main.js","import React, { PureComponent, PropTypes } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.scss';\n\nexport default class Tagging extends PureComponent {\n  static defaultProps = {\n    image: '',\n    width: '400px',\n    height: '400px',\n    tags: [],\n    onReplace: Function.prototype,\n    onDelete: Function.prototype,\n    maxLength: 16\n  };\n\n  static propTypes = {\n    image: PropTypes.string,\n    width: PropTypes.string,\n    height: PropTypes.string,\n    tags: PropTypes.arrayOf(PropTypes.shape({\n        id: PropTypes.string,\n        title: PropTypes.string,\n        x: PropTypes.number,\n        y: PropTypes.number,\n        index: PropTypes.number\n    })),\n    onReplace: PropTypes.func,\n    onDelete: PropTypes.func,\n    maxLength: PropTypes.number\n  };\n\n  constructor(props) {\n      super(props);\n\n      this.state = {\n        chosenIndex: null\n      };\n      this.clickedTime = null;\n\n      this.deleteTag = this.deleteTag.bind(this);\n      this.hideAllDeletes = this.hideAllDeletes.bind(this);\n  }\n\n  hideAllDeletes() {\n    [].forEach.call(ReactDOM.findDOMNode(this.refs['tagging-wrapper']).querySelectorAll('.delete'), element => {\n      element.classList.add('hide');\n    });\n  }\n\n  deleteTag(tag, index) {\n    this.hideAllDeletes();\n    this.setState({chosenIndex: null});\n    this.props.onDelete(tag, index, this.props.tags.filter((tag, ind) => ind !== index));\n  }\n\n  render() {\n      return (\n        <div\n          className={'tagging-wrapper'}\n          style={{\n            backgroundImage: `url(${this.props.image})`,\n            width: this.props.width,\n            height: this.props.height,\n          }}\n          ref='tagging-wrapper'\n          onClick={() => {\n            this.hideAllDeletes();\n            this.setState({chosenIndex: null});\n          }}\n        >\n          {this.props.tags.map((tag, index) => {\n            // closure veriables\n            let canMove = false;\n            let startMoving = event => {\n              event.stopPropagation();\n              canMove = true;\n              document.addEventListener('mousemove', processMoving, false);\n              document.addEventListener('touchmove', processMoving, false);\n            };\n            let processMoving = event => {\n              event.preventDefault();\n              event.stopPropagation();\n              if (canMove && this.state.chosenIndex === index) {\n                let ref = ReactDOM.findDOMNode(this.refs[index]);\n                if (ref) {\n                  let wrapper = ReactDOM.findDOMNode(this.refs['tagging-wrapper']).getBoundingClientRect(),\n                    boundingClientRect = ref.getBoundingClientRect();\n                  ref.style.cursor = '-webkit-grabbing';\n                  ref.style.cursor = 'grabbing';\n                  // handle device touches\n                  if (event.changedTouches) {\n                    event.clientX = event.changedTouches[0].clientX;\n                    event.clientY = event.changedTouches[0].clientY;\n                  }\n                  // handle borders\n                  if (wrapper.left + boundingClientRect.width / 2 > event.clientX) {\n                    tag.x = 0;\n                  } else if (wrapper.left + wrapper.width - boundingClientRect.width / 2 < event.clientX) {\n                    tag.x = wrapper.width - boundingClientRect.width;\n                  } else {\n                    tag.x = parseFloat(ref.style.left) + event.clientX - (boundingClientRect.left + boundingClientRect.width / 2);\n                    tag.x -= window.scrollX;\n                  }\n                  if (wrapper.top + boundingClientRect.height / 2 > event.clientY) {\n                    tag.y = 0;\n                  } else if (wrapper.top + wrapper.height - boundingClientRect.height / 2 < event.clientY) {\n                    tag.y = wrapper.height - boundingClientRect.height;\n                  } else {\n                    tag.y = parseFloat(ref.style.top) + event.clientY - (boundingClientRect.top + boundingClientRect.height / 2);\n                    tag.y -= window.scrollY;\n                  }\n\n                  // handle .delete position\n                  let deleteElement = ref.querySelector('.delete');\n                  if (wrapper.left + wrapper.width - boundingClientRect.width / 2 < event.clientX + deleteElement.getBoundingClientRect().width) {\n                    deleteElement.classList.add('pull-left');\n                  } else {\n                    deleteElement.classList.remove('pull-left');\n                  }\n\n                  // set values\n                  ref.style.left = tag.x + 'px';\n                  ref.style.top = tag.y + 'px';\n                }\n              }\n            };\n            let stopMoving = event => {\n              event.stopPropagation();\n              let ref = ReactDOM.findDOMNode(this.refs[index]);\n              ref.style.cursor = '';\n              this.props.onReplace(tag, index, this.props.tags.map((tag, ind) => {\n                if (ind === index) {\n                  tag.x = parseFloat(ref.style.left);\n                  tag.y = parseFloat(ref.style.top);\n                }\n                return tag;\n              }));\n              canMove = false;\n              document.removeEventListener('mousemove', processMoving, false);\n              document.removeEventListener('touchmove', processMoving, false);\n            };\n            return (\n              <div\n                className={`tagging-element ${this.state.chosenIndex === index ? 'grab-mode' : ''}`}\n                key={tag.id}\n                ref={index}\n                style={{\n                  zIndex: tag.index,\n                  left: tag.x,\n                  top: tag.y\n                }}\n                onClick={event => {\n                  event.stopPropagation();\n                  if (this.state.chosenIndex !== index) {\n                    this.hideAllDeletes();\n                    this.setState({chosenIndex: index});\n                    ReactDOM.findDOMNode(this.refs[index]).querySelector('.delete').classList.remove('hide');\n                  }\n                  if (new Date().getTime() - this.clickedTime < 600) {\n                    // double click / tap\n                    this.hideAllDeletes();\n                    this.setState({chosenIndex: null});\n                  }\n                  this.clickedTime = new Date().getTime();\n                }}\n                onMouseDown={startMoving}\n                onTouchStart={startMoving}\n                onMouseUp={stopMoving}\n                onTouchEnd={stopMoving}\n              >\n                <span\n                  className={'tagging-title'}\n                >\n                  {tag.title.length + 3 > this.props.maxLength ? tag.title.slice(0, this.props.maxLength - 3) + '...' : tag.title}\n                </span>\n                <span\n                  className={'delete hide'}\n                  onClick={event => {\n                    event.stopPropagation();\n                    this.deleteTag(tag, index);\n                  }}\n                >X</span>\n              </div>\n            );\n          })}\n        </div>\n      );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/index.js"],"sourceRoot":""}